plugins {
    id("java")
    id("jvm-test-suite")
    id("org.gradle.test-retry") version "1.2.0"
    
}


repositories {
    mavenCentral()
}

dependencies {
    testImplementation("junit:junit:4.13")
}

testing {
    suites { 
        test { 
            useJUnitJupiter() 
        }

        integrationTest(JvmTestSuite) { 


            targets { 
                all {
                    testTask.configure {
                        shouldRunAfter(test)
                    }
                }
            }
        }
    }
}

tasks.named('check') { 
    dependsOn(testing.suites.integrationTest)
}
